(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"9HtL":function(t,n,l){"use strict";l.d(n,"a",function(){return r}),l("b4/y"),l("POfX"),l("gbi4"),l("MO+k");var e=l("qb46"),o=l("wd/R"),r=function(){function t(t,n,l){var o=this;this._billService=t,this._categoryService=n,this._commonService=l,this.categoryList=[],this.mappedCategoryList={},this.selectedPieCategory=[],this.selectedLineCategory=[],this.lineChartTotal=0,this.pieChartTotal=0,this.isLineChartReady=!1,this.isPieChartReady=!1,this.monthYearSpiliter=" ",this.maxDatePeriodCount=70,this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.lineChartData=[],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.colors=[{backgroundColor:"rgba(0,247,255, 0.2)",borderColor:"rgba(0,247,255, 1)",pointBackgroundColor:"rgba(0,247,255, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(0,247,255, 1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(196,255,77,0.2)",borderColor:"rgba(196,255,77, 1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(196,255,77, 1)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(255,77,77,0.2)",borderColor:"rgba(255,77,77,1)",pointBackgroundColor:"rgba(255,77,77,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(255,77,77,1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(255,255,0, 0.2)",borderColor:"rgba(255,255,0,1)",pointBackgroundColor:"rgba(255,255,0 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(255,255,0,1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(85,255,0, 0.2)",borderColor:"rgba(85,255,0, 1)",pointBackgroundColor:"rgba(85,255,0, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(85,255,0, 1)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(255,230,255,0.2)",borderColor:"rgba(255,25,255,1)",pointBackgroundColor:"rgba(255,25,255,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(255,25,255,1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(102,204,255, 0.2)",borderColor:"rgba(102,204,255, 1)",pointBackgroundColor:"rgba(102,204,255, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(102,204,255, 1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(222, 218, 218, 0.2)",borderColor:"rgba(222, 218, 218, 1)",pointBackgroundColor:"rgba(26,0,26,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(222, 218, 218, 1)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(26,0,153,0.2)",borderColor:"rgba(26,0,153,1)",pointBackgroundColor:"rgba(26,0,153,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(26,0,153,1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(179,0,59,0.2)",borderColor:"rgba(179,0,59 1)",pointBackgroundColor:"rgba(179,0,59, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(179,0,59 1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(0, 77, 51, 0.2)",borderColor:"rgba(0,77,51, 1)",pointBackgroundColor:"rgba(0,77,51, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(0,77,51, 1)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(25,58,25,0.2)",borderColor:"rgba(25,58,25,1)",pointBackgroundColor:"rgba(25,58,25,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(25,58,25,1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(102,204,0,0.2)",borderColor:"rgba(102,204,0, 1)",pointBackgroundColor:"rgba(102,204,0, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(102,204,0, 1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(153,0,0, 0.2)",borderColor:"rgba(153,0,0,1)",pointBackgroundColor:"rgba(153,0,0, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(153,0,0,1)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(244, 173, 66, 0.2)",borderColor:"rgba(244, 173, 66, 1)",pointBackgroundColor:"rgba(244, 173, 66, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(244, 173, 66, 1)",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.lineChartColors=this.colors.slice(),this.pieChartColors=[{backgroundColor:["rgba(255,0,0,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)","rgb(51, 153, 102)","rgb(236, 179, 255)","rgb(204, 204, 255)","rgb(255, 255, 179)","rgb(194, 194, 163)","rgb(102, 255, 255)","rgb(0, 115, 230)","rgb(255, 153, 153)","rgb(255, 102, 179)","rgb(255, 85, 0)","rgb(159, 223, 191)","rgb(255, 140, 102)"]}],this.pieChartOptions={responsive:!0,legend:{position:"top"},plugins:{datalabels:{formatter:function(t,n){return n.chart.data.labels[n.dataIndex]}}}},this.pieChartLabels=[],this.pieChartData=[],this.pieChartLegend=!0,this.pieChartPlugins=[e],this.dropdownSettings={singleSelection:!1,idField:"_id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowpieSearchFilter:!0,searchAutofocus:!0},this.lineSearchFilter={},this.pieSearchFilter={},this.getDefaultDataset().then(function(t){o.init()})}return t.prototype.ngOnInit=function(){this.pieChartType="pie",this.lineChartLegend=!0,this.lineChartType="line"},t.prototype.setDeafaultCategoryList=function(t){this.categoryList=t,this.selectedLineCategory=this.selectedPieCategory=t.slice(0,4),this.mappedCategoryList=this._commonService.createHasMap(this.categoryList,"_id")},t.prototype.groupByFields=function(t,n,l){var e={};if(t.length>0){var o=this;t.forEach(function(t){if(t[n]&&t[l]){var r=o.mappedCategoryList[t[n]].name;e[r]?e[r]+=t[l]:e[r]=t[l]}})}return e},t.prototype.getDefaultSearchFilter=function(t){var n;return n=this._commonService.filterByFieldName("pie"==t?this.selectedPieCategory:this.selectedLineCategory,"_id"),console.log("filter: ",n),n},t.prototype.init=function(){this.loadLineChart(),this.loadPieData()},t.prototype.loadPieData=function(){var t=this;this.pieSearchFilter.category=this.getDefaultSearchFilter("pie"),this.getBillDetails(this.pieSearchFilter).then(function(n){t.pieChartData=n;var l=t.groupByFields(t.pieChartData,"_category","amount");t.updatePieDataSet(l)})},t.prototype.loadLineChart=function(){var t=this;this.lineSearchFilter.category=this.getDefaultSearchFilter("line"),this.getBillDetails(this.lineSearchFilter).then(function(n){console.log("bill data: ",n),t.initializeLineChart(n)})},t.prototype.initializeLineChart=function(t){var n=this.getLineChartDatePeriodType(),l=this.getLinChartXaxisPeriods(n),e=this.getLineChartYaxisData(t,l,n);console.log("typeDetails: ",n,"xAxis: ",l,"yAxis: ",e),this.updateLineChartDataSet(l,e)},t.prototype.chartClicked=function(t){},t.prototype.chartHovered=function(t){},t.prototype.updateLineChartDataSet=function(t,n){console.log("updateLineChartDataSet labelData:",t,"labelValues:",n),this.lineChartLabels.length=0,this.lineChartData.length=0;var l=n.length>t.length?n.length:t.length;if(l>0){for(var e=0;e<l;e++)void 0!==t[e]&&""!=t[e]&&this.lineChartLabels.push(t[e]),void 0!==n[e]&&""!=n[e]&&(this.lineChartData.push(n[e]),void 0!==this.colors[e]&&""!=this.colors[e]&&this.lineChartColors.push(this.colors[e]));this.isLineChartReady=!0}console.log(this.lineChartLabels,this.lineChartData,this.lineChartColors)},t.prototype.getTotalAmountBetweenDates=function(t,n,l,e){var o=this;void 0===e&&(e=!0);var r=0,i="",a="";if(e){var u=l.split(this.monthYearSpiliter),s=this.monthNames.indexOf(u[0]),c=new Date(u[1],s),d=new Date(c.getFullYear(),c.getMonth(),1);i=d.getTime();var h=new Date(c.getFullYear(),c.getMonth()+1,0);a=h.getTime()}else{c=new Date(l);var g=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);i=g.getTime();var p=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59);a=p.getTime(),"2019-05-07"==l&&console.log("startDay:",g,"endDay:",p,"fromDateTimeStamp: ",i,"toDateTimeStamp:",a)}return t.length>0&&t.forEach(function(t){var l=o._commonService.formatDate(t.purchased_date),e=new Date(l).getTime();t._category==n&&i<e&&a>e&&(r+=t.amount)}),r},t.prototype.updateLineChart=function(){var t=["aaa","bbb"],n=[{data:[22,33],label:"Series 1"},{data:[2,93],label:"Series 2"}];this.lineChartLabels.length=0,this.lineChartData.length=0,this.lineChartColors.length=0;var l=this;t.length>0&&(t.forEach(function(t,e){l.lineChartLabels.push(t),console.log("push: ",n[e]),l.lineChartData.push(n[e]),l.lineChartColors.push(l.colors[e])}),this.isLineChartReady=!0)},t.prototype.getLineChartYaxisData=function(t,n,l){var e=[],o=this.selectedLineCategory;console.log("getLineChartYaxisData category: ",o);for(var r=0;r<o.length;r++){for(var i={data:[],label:o[r].name},a=0;a<n.length;a++){var u=this.getTotalAmountBetweenDates(t,o[r]._id,n[a],"daily"!=l.type);this.lineChartTotal+=u,i.data.push(u)}e.push(i)}return e},t.prototype.getLineChartDatePeriodType=function(){var t=12,n={type:""};if(console.log("getLineChartDatePeriodType: ",this.lineSearchFilter),void 0===this.lineSearchFilter.purchased_date||""==this.lineSearchFilter.purchased_date)n.type="daily";else{var l=this._commonService.daysBetween(this.lineSearchFilter.purchased_date.dateFrom,this.lineSearchFilter.purchased_date.dateTo);console.log("dateDiff: ",l),l>this.maxDatePeriodCount?(n.type="monthly",t=Math.round(l/20),n.duration=t):n.type="daily"}return console.log("getLineChartDatePeriodType resp: ",n),n},t.prototype.getLinChartXaxisPeriods=function(t){var n=[];if("monthly"==t.type)n=this.getMonthList(t.duration);else{var l=new Date(this.lineSearchFilter.purchased_date.dateFrom),e=new Date(this.lineSearchFilter.purchased_date.dateTo);n=this._commonService.getDates(l,e)}return n},t.prototype.getBillDetails=function(t){var n=this;return new Promise(function(l,e){n._billService.getBillsListWithSearch({filter:t,sumByBillDate:!0}).subscribe(function(t){l(t.result&&t.result.data?t.result.data:[])})})},t.prototype.updatePieDataSet=function(t){var n=Object.keys(t),l=this._commonService.getObjectValues(t);this.pieChartLabels.length=0,this.pieChartData.length=0;var e=this;n.length>0&&(n.forEach(function(t,n){e.pieChartLabels.push(t),e.pieChartData.push(l[n]),e.pieChartTotal+=l[n]}),this.isPieChartReady=!0)},t.prototype.getDefaultDataset=function(){return t=this,void 0,l=function(){var t;return function(t,n){var l,e,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(l)throw new TypeError("Generator is already executing.");for(;i;)try{if(l=1,e&&(o=2&r[0]?e.return:r[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,r[1])).done)return o;switch(e=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,e=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=n.call(t,i)}catch(a){r=[6,a],e=0}finally{l=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,function(n){switch(n.label){case 0:return[4,this._categoryService.getCategoryList().toPromise()];case 1:return t=n.sent(),this.setDeafaultCategoryList(t.result&&t.result.data?t.result.data:[]),[2]}})},new((n=void 0)||(n=Promise))(function(e,o){function r(t){try{a(l.next(t))}catch(n){o(n)}}function i(t){try{a(l.throw(t))}catch(n){o(n)}}function a(t){t.done?e(t.value):new n(function(n){n(t.value)}).then(r,i)}a((l=l.apply(t,[])).next())});var t,n,l},t.prototype.onLineChartSearch=function(){this.loadLineChart()},t.prototype.onPieChartSearch=function(){this.loadPieData()},t.prototype.getMonthList=function(t){void 0===t&&(t=12);var n=new Date,l=new Date(n.getFullYear(),n.getMonth(),1),e=[];console.log("count: ",t);for(var o=0;o<t;o++)console.log("date: ",l,"i: ",o,"month: ",l.getMonth()),e.unshift(this.monthNames[l.getMonth()]+this.monthYearSpiliter+l.getFullYear()),l.setMonth(l.getMonth()-1);return console.log("months: ",e),e},t.prototype.triggerDatePicker1=function(){var t=this,n=o().subtract(6,"days").format("YYYY-MM-DD HH:mm"),l=o(n).utc().valueOf(),e=o().format("YYYY-MM-DD HH:mm"),r=o(e).utc().valueOf();this.pieSearchFilter.purchased_date={dateFrom:l,dateTo:r},this.lineSearchFilter.purchased_date={dateFrom:l,dateTo:r},console.log("defaultToDate: ",e,"defaultStartDate:",n),this._commonService.initializeDateRangePicker("pDate",{restrictFutureDate:!0,defaultDates:{startDate:new Date(n),endDate:new Date(e)}}).subscribe(function(n){console.log("pie chart dates: ",n),t.pieSearchFilter.purchased_date={dateFrom:n.startDate,dateTo:n.endDate}}),this._commonService.initializeDateRangePicker("lDate",{restrictFutureDate:!0}).subscribe(function(n){console.log("line chart dates: ",n),t.lineSearchFilter.purchased_date={dateFrom:n.startDate,dateTo:n.endDate}})},t.prototype.triggerDatePicker=function(){var t=this,n=o().subtract(6,"days").format("YYYY-MM-DD HH:mm"),l=o(n).utc().valueOf(),e=o().format("YYYY-MM-DD HH:mm"),r=o(e).utc().valueOf();this.pieSearchFilter.purchased_date={dateFrom:l,dateTo:r},this.lineSearchFilter.purchased_date={dateFrom:l,dateTo:r},console.log("triggerDatePicker defaultToDate: ",e,"defaultStartDate:",n),this._commonService.initializeDateRangePicker("pDate",{restrictFutureDate:!0,defaultDates:{startDate:new Date(n),endDate:new Date(e)}}).subscribe(function(n){console.log("pie chart dates: ",n),t.pieSearchFilter.purchased_date={dateFrom:n.startDate,dateTo:n.endDate}}),this._commonService.initializeDateRangePicker("lDate",{restrictFutureDate:!0,defaultDates:{startDate:new Date(n),endDate:new Date(e)}}).subscribe(function(n){console.log("line chart dates: ",n),t.lineSearchFilter.purchased_date={dateFrom:n.startDate,dateTo:n.endDate}}),this._commonService.setDateRangeValInDatePicker("pDate",n,e),this._commonService.setDateRangeValInDatePicker("lDate",n,e)},t.prototype.ngAfterViewInit=function(){this.triggerDatePicker()},t}()},Ll2n:function(t,n,l){"use strict";l.d(n,"a",function(){return e});var e=function(){return function(){}}()},POfX:function(t,n,l){"use strict";l.d(n,"a",function(){return r});var e=l("yTNM"),o=l("CcnG"),r=function(){function t(t){this._api=t}return t.prototype.getCategoryList=function(){return this._api.get("category/all/")},t.prototype.getCategoryById=function(t){return this._api.get("category/"+t)},t.prototype.updateCategoryById=function(t,n){return this._api.post("category/"+t,n)},t.prototype.addCategory=function(t){return this._api.post("category/add/",t)},t.prototype.deleteCategory=function(t){return this._api.delete("category/delete/"+t+"/")},t.ngInjectableDef=o.W({factory:function(){return new t(o.ab(e.a))},token:t,providedIn:"root"}),t}()},"Ui/4":function(t,n,l){"use strict";var e=l("CcnG"),o=l("Zseb"),r=l("rMXk"),i=l("3zLz"),a=l("m/DL"),u=l("5NQ/"),s=l("gIcY"),c=l("Ip0R"),d=l("9HtL"),h=l("b4/y"),g=l("POfX"),p=l("gbi4");l.d(n,"a",function(){return y});var b=e.rb({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"routerTransition",definitions:[],options:{}}]}});function f(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),e.tb(1,0,null,null,1,"canvas",[["baseChart",""]],null,null,null,null,null)),e.sb(2,999424,[[1,4]],0,o.a,[e.k,o.c],{data:[0,"data"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"],plugins:[6,"plugins"]},null)],function(t,n){var l=n.component;t(n,2,0,l.pieChartData,l.pieChartLabels,l.pieChartOptions,l.pieChartType,l.pieChartColors,l.pieChartLegend,l.pieChartPlugins)},null)}function C(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),e.tb(1,0,null,null,1,"canvas",[["baseChart",""],["height","130"]],null,[[null,"chartHover"],[null,"chartClick"]],function(t,n,l){var e=!0,o=t.component;return"chartHover"===n&&(e=!1!==o.chartHovered(l)&&e),"chartClick"===n&&(e=!1!==o.chartClicked(l)&&e),e},null,null)),e.sb(2,999424,[[1,4]],0,o.a,[e.k,o.c],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},{chartClick:"chartClick",chartHover:"chartHover"})],function(t,n){var l=n.component;t(n,2,0,l.lineChartData,l.lineChartLabels,l.lineChartOptions,l.lineChartType,l.lineChartColors,l.lineChartLegend)},null)}function m(t){return e.Nb(0,[e.Jb(671088640,1,{chart:0}),(t()(),e.tb(1,0,null,null,64,"div",[],null,null,null,null,null)),(t()(),e.tb(2,0,null,null,1,"app-page-header",[],null,null,null,r.b,r.a)),e.sb(3,114688,null,0,i.a,[],{heading:[0,"heading"],icon:[1,"icon"]},null),(t()(),e.tb(4,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(t()(),e.tb(5,0,null,null,28,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),e.tb(6,0,null,null,27,"div",[["class","card mb-3"]],null,null,null,null,null)),(t()(),e.tb(7,0,null,null,5,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,[" Overall Report "])),(t()(),e.tb(9,0,null,null,3,"span",[["class","pull-right"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,["Total: "])),(t()(),e.tb(11,0,null,null,0,"i",[["class","fa fa-rupee"]],null,null,null,null,null)),(t()(),e.Lb(12,null,[" ",""])),(t()(),e.tb(13,0,null,null,20,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),e.tb(14,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),e.tb(15,0,null,null,7,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),e.tb(16,0,null,null,6,"ng-multiselect-dropdown",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"]],function(t,n,l){var o=!0,r=t.component;return"blur"===n&&(o=!1!==e.Db(t,17).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(r.selectedPieCategory=l)&&o),o},a.b,a.a)),e.sb(17,49152,null,0,u.a,[e.h],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},null),e.Ib(1024,null,s.n,function(t){return[t]},[u.a]),e.sb(19,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),e.Gb(20,{standalone:0}),e.Ib(2048,null,s.o,null,[s.s]),e.sb(22,16384,null,0,s.p,[[4,s.o]],null,null),(t()(),e.tb(23,0,null,null,5,"div",[["class","col col-xl-7 col-lg-7"]],null,null,null,null,null)),(t()(),e.tb(24,0,null,null,4,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),e.tb(25,0,null,null,3,"div",[["class","form-control col-sm-10"],["id","pDate"]],null,null,null,null,null)),(t()(),e.tb(26,0,null,null,0,"span",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,["\xa0\xa0"])),(t()(),e.tb(28,0,null,null,0,"span",[["class","date-val"]],null,null,null,null,null)),(t()(),e.tb(29,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),e.tb(30,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.onPieChartSearch()&&e),e},null,null)),(t()(),e.Lb(-1,null,["Search"])),(t()(),e.kb(16777216,null,null,1,null,f)),e.sb(33,16384,null,0,c.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.tb(34,0,null,null,0,"div",[["class","col col-sm-6"]],null,null,null,null,null)),(t()(),e.tb(35,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(t()(),e.tb(36,0,null,null,28,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),e.tb(37,0,null,null,27,"div",[["class","card mb-3"]],null,null,null,null,null)),(t()(),e.tb(38,0,null,null,5,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,[" Detailed Report: "])),(t()(),e.tb(40,0,null,null,3,"span",[["class","pull-right"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,["Total: "])),(t()(),e.tb(42,0,null,null,0,"i",[["class","fa fa-rupee"]],null,null,null,null,null)),(t()(),e.Lb(43,null,[" ",""])),(t()(),e.tb(44,0,null,null,20,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),e.tb(45,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),e.tb(46,0,null,null,7,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),e.tb(47,0,null,null,6,"ng-multiselect-dropdown",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"blur"]],function(t,n,l){var o=!0,r=t.component;return"blur"===n&&(o=!1!==e.Db(t,48).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(r.selectedLineCategory=l)&&o),o},a.b,a.a)),e.sb(48,49152,null,0,u.a,[e.h],{placeholder:[0,"placeholder"],settings:[1,"settings"],data:[2,"data"]},null),e.Ib(1024,null,s.n,function(t){return[t]},[u.a]),e.sb(50,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),e.Gb(51,{standalone:0}),e.Ib(2048,null,s.o,null,[s.s]),e.sb(53,16384,null,0,s.p,[[4,s.o]],null,null),(t()(),e.tb(54,0,null,null,5,"div",[["class","col col-xl-7 col-lg-7"]],null,null,null,null,null)),(t()(),e.tb(55,0,null,null,4,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),e.tb(56,0,null,null,3,"div",[["class","form-control col-sm-10"],["id","lDate"]],null,null,null,null,null)),(t()(),e.tb(57,0,null,null,0,"span",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),e.Lb(-1,null,["\xa0\xa0"])),(t()(),e.tb(59,0,null,null,0,"span",[["class","date-val"]],null,null,null,null,null)),(t()(),e.tb(60,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),e.tb(61,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.onLineChartSearch()&&e),e},null,null)),(t()(),e.Lb(-1,null,["Search"])),(t()(),e.kb(16777216,null,null,1,null,C)),e.sb(64,16384,null,0,c.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.tb(65,0,null,null,0,"div",[["class","col col-sm-6"]],null,null,null,null,null))],function(t,n){var l=n.component;t(n,3,0,"Reports","fa-bar-chart-o"),t(n,17,0,"Select Category",l.dropdownSettings,l.categoryList);var e=l.selectedPieCategory,o=t(n,20,0,!0);t(n,19,0,e,o),t(n,33,0,l.isPieChartReady),t(n,48,0,"Select Category",l.dropdownSettings,l.categoryList);var r=l.selectedLineCategory,i=t(n,51,0,!0);t(n,50,0,r,i),t(n,64,0,l.isLineChartReady)},function(t,n){var l=n.component;t(n,12,0,l.pieChartTotal),t(n,16,0,e.Db(n,22).ngClassUntouched,e.Db(n,22).ngClassTouched,e.Db(n,22).ngClassPristine,e.Db(n,22).ngClassDirty,e.Db(n,22).ngClassValid,e.Db(n,22).ngClassInvalid,e.Db(n,22).ngClassPending),t(n,43,0,l.lineChartTotal),t(n,47,0,e.Db(n,53).ngClassUntouched,e.Db(n,53).ngClassTouched,e.Db(n,53).ngClassPristine,e.Db(n,53).ngClassDirty,e.Db(n,53).ngClassValid,e.Db(n,53).ngClassInvalid,e.Db(n,53).ngClassPending)})}function v(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,1,"app-reports",[],null,null,null,m,b)),e.sb(1,4308992,null,0,d.a,[h.a,g.a,p.a],null,null)],function(t,n){t(n,1,0)},null)}var y=e.pb("app-reports",d.a,v,{},{},[])},"b4/y":function(t,n,l){"use strict";l.d(n,"a",function(){return r});var e=l("yTNM"),o=l("CcnG"),r=function(){function t(t){this._api=t}return t.prototype.getBillsList=function(){return this._api.get("bills/")},t.prototype.getBillsListWithSearch=function(t){return this._api.post("bills/search/",t)},t.prototype.deleteBill=function(t){return this._api.delete("bills/delete/"+t+"/")},t.prototype.getBillById=function(t){return this._api.get("bills/"+t)},t.prototype.updateBillById=function(t,n){return this._api.postFile("bills/"+t,n)},t.prototype.addBill=function(t){return this._api.postFile("bills/add/",t)},t.ngInjectableDef=o.W({factory:function(){return new t(o.ab(e.a))},token:t,providedIn:"root"}),t}()},cXLJ:function(t,n,l){"use strict";l.d(n,"a",function(){return o}),l.d(n,"b",function(){return e}),l("M0ag"),l("9HtL");var e={pvName:"View Reports"},o=function(){return function(){}}()},"m/DL":function(t,n,l){"use strict";l.d(n,"a",function(){return a}),l.d(n,"b",function(){return b});var e=l("CcnG"),o=l("5NQ/"),r=l("Ip0R"),i=l("gIcY"),a=e.rb({encapsulation:0,styles:[".multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:'';color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:all .4s ease}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:'';position:absolute;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50%;transform-origin:50%;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;-webkit-transform:rotate(-45deg) scale(0);transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:'';transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;-webkit-transform:rotate(-45deg) scale(1);transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}"],data:{}});function u(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),e.Lb(1,null,["",""]))],null,function(t,n){t(n,1,0,n.component._placeholder)})}function s(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,3,"span",[["class","selected-item"]],[[8,"hidden",0]],null,null,null,null)),(t()(),e.Lb(1,null,[" "," "])),(t()(),e.tb(2,0,null,null,1,"a",[["style","padding-top:2px;padding-left:2px;color:white"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.onItemClick(l,t.context.$implicit)&&e),e},null,null)),(t()(),e.Lb(-1,null,["x"]))],null,function(t,n){t(n,0,0,n.context.index>n.component._settings.itemsShowLimit-1),t(n,1,0,n.context.$implicit.text)})}function c(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,1,"span",[["style","padding-right: 6px;"]],null,null,null,null,null)),(t()(),e.Lb(1,null,["+",""]))],null,function(t,n){t(n,1,0,n.component.itemShowRemaining())})}function d(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,3,"li",[["class","multiselect-item-checkbox"],["style","border-bottom: 1px solid #ccc;padding:10px"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.toggleSelectAll()&&e),e},null,null)),(t()(),e.tb(1,0,null,null,0,"input",[["aria-label","multiselect-select-all"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(t()(),e.tb(2,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),e.Lb(3,null,["",""]))],null,function(t,n){var l=n.component;t(n,1,0,l.isAllItemsSelected(),l.disabled||l.isLimitSelectionReached()),t(n,3,0,l.isAllItemsSelected()?l._settings.unSelectAllText:l._settings.selectAllText)})}function h(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,6,"li",[["class","filter-textbox"]],null,null,null,null,null)),(t()(),e.tb(1,0,null,null,5,"input",[["aria-label","multiselect-search"],["type","text"]],[[8,"readOnly",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,l){var o=!0,r=t.component;return"input"===n&&(o=!1!==e.Db(t,2)._handleInput(l.target.value)&&o),"blur"===n&&(o=!1!==e.Db(t,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==e.Db(t,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==e.Db(t,2)._compositionEnd(l.target.value)&&o),"ngModelChange"===n&&(o=!1!==(r.filter.text=l)&&o),"ngModelChange"===n&&(o=!1!==r.onFilterTextChange(l)&&o),o},null,null)),e.sb(2,16384,null,0,i.d,[e.H,e.k,[2,i.a]],null,null),e.Ib(1024,null,i.n,function(t){return[t]},[i.d]),e.sb(4,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,i.o,null,[i.s]),e.sb(6,16384,null,0,i.p,[[4,i.o]],null,null)],function(t,n){t(n,4,0,n.component.filter.text)},function(t,n){var l=n.component;t(n,1,0,l.disabled,l._settings.searchPlaceholderText,e.Db(n,6).ngClassUntouched,e.Db(n,6).ngClassTouched,e.Db(n,6).ngClassPristine,e.Db(n,6).ngClassDirty,e.Db(n,6).ngClassValid,e.Db(n,6).ngClassInvalid,e.Db(n,6).ngClassPending)})}function g(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,3,"li",[["class","multiselect-item-checkbox"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.onItemClick(l,t.context.$implicit)&&e),e},null,null)),(t()(),e.tb(1,0,null,null,0,"input",[["aria-label","multiselect-item"],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(t()(),e.tb(2,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),e.Lb(3,null,["",""]))],null,function(t,n){var l=n.component;t(n,1,0,l.isSelected(n.context.$implicit),l.disabled||l.isLimitSelectionReached()&&!l.isSelected(n.context.$implicit)),t(n,3,0,n.context.$implicit.text)})}function p(t){return e.Nb(0,[(t()(),e.tb(0,0,null,null,2,"li",[["class","no-data"]],null,null,null,null,null)),(t()(),e.tb(1,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),e.Lb(2,null,["",""]))],null,function(t,n){t(n,2,0,n.component._settings.noDataAvailablePlaceholderText)})}function b(t){return e.Nb(2,[(t()(),e.tb(0,0,null,null,24,"div",[["class","multiselect-dropdown"],["tabindex","=0"]],null,[[null,"blur"],[null,"clickOutside"],["document","click"]],function(t,n,l){var o=!0,r=t.component;return"document:click"===n&&(o=!1!==e.Db(t,1).onClick(l,l.target)&&o),"blur"===n&&(o=!1!==r.onTouched()&&o),"clickOutside"===n&&(o=!1!==r.closeDropdown()&&o),o},null,null)),e.sb(1,16384,null,0,o.c,[e.k],null,{clickOutside:"clickOutside"}),(t()(),e.tb(2,0,null,null,10,"div",[],[[2,"disabled",null]],null,null,null,null)),(t()(),e.tb(3,0,null,null,9,"span",[["class","dropdown-btn"],["tabindex","-1"]],null,[[null,"click"]],function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.toggleDropdown(l)&&e),e},null,null)),(t()(),e.kb(16777216,null,null,1,null,u)),e.sb(5,16384,null,0,r.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.kb(16777216,null,null,1,null,s)),e.sb(7,278528,null,0,r.m,[e.S,e.P,e.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),e.tb(8,0,null,null,4,"span",[["style","float:right !important;padding-right:4px"]],null,null,null,null,null)),(t()(),e.kb(16777216,null,null,1,null,c)),e.sb(10,16384,null,0,r.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.tb(11,0,null,null,1,"span",[],null,null,null,null,null)),e.sb(12,278528,null,0,r.l,[e.t,e.u,e.k,e.H],{ngClass:[0,"ngClass"]},null),(t()(),e.tb(13,0,null,null,11,"div",[["class","dropdown-list"]],[[8,"hidden",0]],null,null,null,null)),(t()(),e.tb(14,0,null,null,4,"ul",[["class","item1"]],null,null,null,null,null)),(t()(),e.kb(16777216,null,null,1,null,d)),e.sb(16,16384,null,0,r.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.kb(16777216,null,null,1,null,h)),e.sb(18,16384,null,0,r.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null),(t()(),e.tb(19,0,null,null,5,"ul",[["class","item2"]],[[4,"maxHeight",null]],null,null,null,null)),(t()(),e.kb(16777216,null,null,2,null,g)),e.sb(21,278528,null,0,r.m,[e.S,e.P,e.t],{ngForOf:[0,"ngForOf"]},null),e.Fb(0,o.d,[]),(t()(),e.kb(16777216,null,null,1,null,p)),e.sb(24,16384,null,0,r.n,[e.S,e.P],{ngIf:[0,"ngIf"]},null)],function(t,n){var l=n.component;t(n,5,0,0==l.selectedItems.length),t(n,7,0,l.selectedItems,l.trackByFn),t(n,10,0,l.itemShowRemaining()>0),t(n,12,0,l._settings.defaultOpen?"dropdown-up":"dropdown-down"),t(n,16,0,l._data.length>0&&!l._settings.singleSelection&&l._settings.enableCheckAll&&-1===l._settings.limitSelection),t(n,18,0,l._data.length>0&&l._settings.allowSearchFilter),t(n,21,0,e.Mb(n,21,0,e.Db(n,22).transform(l._data,l.filter))),t(n,24,0,0==l._data.length)},function(t,n){var l=n.component;t(n,2,0,l.disabled),t(n,13,0,!l._settings.defaultOpen),t(n,19,0,l._settings.maxHeight+"px")})}},qb46:function(t,n,l){t.exports=function(t){"use strict";var n=(t=t&&t.hasOwnProperty("default")?t.default:t).helpers,l=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),e={toTextLines:function(t){var l,e=[];for(t=[].concat(t);t.length;)"string"==typeof(l=t.pop())?e.unshift.apply(e,l.split("\n")):Array.isArray(l)?t.push.apply(t,l):n.isNullOrUndef(t)||e.unshift(""+l);return e},toFontString:function(t){return!t||n.isNullOrUndef(t.size)||n.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family},textSize:function(t,n,l){var e,o=[].concat(n),r=o.length,i=t.font,a=0;for(t.font=l.string,e=0;e<r;++e)a=Math.max(t.measureText(o[e]).width,a);return t.font=i,{height:r*l.lineHeight,width:a}},parseFont:function(l){var o=t.defaults.global,r=n.valueOrDefault(l.size,o.defaultFontSize),i={family:n.valueOrDefault(l.family,o.defaultFontFamily),lineHeight:n.options.toLineHeight(l.lineHeight,r),size:r,style:n.valueOrDefault(l.style,o.defaultFontStyle),weight:n.valueOrDefault(l.weight,null),string:""};return i.string=e.toFontString(i),i},bound:function(t,n,l){return Math.max(t,Math.min(n,l))},arrayDiff:function(t,n){var l,e,o,r,i=t.slice(),a=[];for(l=0,o=n.length;l<o;++l)-1===(e=i.indexOf(r=n[l]))?a.push([r,1]):i.splice(e,1);for(l=0,o=i.length;l<o;++l)a.push([i[l],-1]);return a},rasterize:function(t){return Math.round(t*l)/l}};function o(t,n){var l=n.x,e=n.y;if(null===l)return{x:0,y:-1};if(null===e)return{x:1,y:0};var o=t.x-l,r=t.y-e,i=Math.sqrt(o*o+r*r);return{x:i?o/i:0,y:i?r/i:-1}}var r=0,i=1,a=2,u=4,s=8;function c(t,n,l){var e=r;return t<l.left?e|=i:t>l.right&&(e|=a),n<l.top?e|=s:n>l.bottom&&(e|=u),e}function d(t,n){var l,e,o=n.anchor,r=t;return n.clamp&&(r=function(t,n){for(var l,e,o,r=t.x0,d=t.y0,h=t.x1,g=t.y1,p=c(r,d,n),b=c(h,g,n);p|b&&!(p&b);)(l=p||b)&s?(e=r+(h-r)*(n.top-d)/(g-d),o=n.top):l&u?(e=r+(h-r)*(n.bottom-d)/(g-d),o=n.bottom):l&a?(o=d+(g-d)*(n.right-r)/(h-r),e=n.right):l&i&&(o=d+(g-d)*(n.left-r)/(h-r),e=n.left),l===p?p=c(r=e,d=o,n):b=c(h=e,g=o,n);return{x0:r,x1:h,y0:d,y1:g}}(r,n.area)),"start"===o?(l=r.x0,e=r.y0):"end"===o?(l=r.x1,e=r.y1):(l=(r.x0+r.x1)/2,e=(r.y0+r.y1)/2),function(t,n,l,e,o){switch(o){case"center":l=e=0;break;case"bottom":l=0,e=1;break;case"right":l=1,e=0;break;case"left":l=-1,e=0;break;case"top":l=0,e=-1;break;case"start":l=-l,e=-e;break;case"end":break;default:o*=Math.PI/180,l=Math.cos(o),e=Math.sin(o)}return{x:t,y:n,vx:l,vy:e}}(l,e,t.vx,t.vy,n.align)}var h={arc:function(t,n){var l=(t.startAngle+t.endAngle)/2,e=Math.cos(l),o=Math.sin(l),r=t.innerRadius,i=t.outerRadius;return d({x0:t.x+e*r,y0:t.y+o*r,x1:t.x+e*i,y1:t.y+o*i,vx:e,vy:o},n)},point:function(t,n){var l=o(t,n.origin),e=l.x*t.radius,r=l.y*t.radius;return d({x0:t.x-e,y0:t.y-r,x1:t.x+e,y1:t.y+r,vx:l.x,vy:l.y},n)},rect:function(t,n){var l=o(t,n.origin),e=t.x,r=t.y,i=0,a=0;return t.horizontal?(e=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),d({x0:e,y0:r+a,x1:e+i,y1:r,vx:l.x,vy:l.y},n)},fallback:function(t,n){var l=o(t,n.origin);return d({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:l.x,vy:l.y},n)}},g=t.helpers,p=e.rasterize;function b(t){var n=t._model.horizontal,l=t._scale||n&&t._xScale||t._yScale;if(!l)return null;if(void 0!==l.xCenter&&void 0!==l.yCenter)return{x:l.xCenter,y:l.yCenter};var e=l.getBasePixel();return n?{x:e,y:null}:{x:null,y:e}}function f(t,n,l){var e=t.shadowBlur,o=l.stroked,r=p(l.x),i=p(l.y),a=p(l.w);o&&t.strokeText(n,r,i,a),l.filled&&(e&&o&&(t.shadowBlur=0),t.fillText(n,r,i,a),e&&o&&(t.shadowBlur=e))}var C=function(t,n,l,e){var o=this;o._config=t,o._index=e,o._model=null,o._rects=null,o._ctx=n,o._el=l};g.extend(C.prototype,{_modelize:function(n,l,o,r){var i,a=this._index,u=g.options.resolve,s=e.parseFont(u([o.font,{}],r,a)),c=u([o.color,t.defaults.global.defaultFontColor],r,a);return{align:u([o.align,"center"],r,a),anchor:u([o.anchor,"center"],r,a),area:r.chart.chartArea,backgroundColor:u([o.backgroundColor,null],r,a),borderColor:u([o.borderColor,null],r,a),borderRadius:u([o.borderRadius,0],r,a),borderWidth:u([o.borderWidth,0],r,a),clamp:u([o.clamp,!1],r,a),clip:u([o.clip,!1],r,a),color:c,display:n,font:s,lines:l,offset:u([o.offset,0],r,a),opacity:u([o.opacity,1],r,a),origin:b(this._el),padding:g.options.toPadding(u([o.padding,0],r,a)),positioner:(i=this._el,i instanceof t.elements.Arc?h.arc:i instanceof t.elements.Point?h.point:i instanceof t.elements.Rectangle?h.rect:h.fallback),rotation:u([o.rotation,0],r,a)*(Math.PI/180),size:e.textSize(this._ctx,l,s),textAlign:u([o.textAlign,"start"],r,a),textShadowBlur:u([o.textShadowBlur,0],r,a),textShadowColor:u([o.textShadowColor,c],r,a),textStrokeColor:u([o.textStrokeColor,c],r,a),textStrokeWidth:u([o.textStrokeWidth,0],r,a)}},update:function(t){var n,l,o,r=this,i=null,a=null,u=r._index,s=r._config,c=g.options.resolve([s.display,!0],t,u);c&&(l=g.valueOrDefault(g.callback(s.formatter,[n=t.dataset.data[u],t]),n),(o=g.isNullOrUndef(l)?[]:e.toTextLines(l)).length&&(a=function(t){var n=t.borderWidth||0,l=t.padding,e=t.size.height,o=t.size.width,r=-o/2,i=-e/2;return{frame:{x:r-l.left-n,y:i-l.top-n,w:o+l.width+2*n,h:e+l.height+2*n},text:{x:r,y:i,w:o,h:e}}}(i=r._modelize(c,o,s,t)))),r._model=i,r._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,n){var l,o=t.ctx,r=this._model,i=this._rects;this.visible()&&(o.save(),r.clip&&(l=r.area,o.beginPath(),o.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),o.clip()),o.globalAlpha=e.bound(0,r.opacity,1),o.translate(p(n.x),p(n.y)),o.rotate(r.rotation),function(t,n,l){var e=l.backgroundColor,o=l.borderColor,r=l.borderWidth;(e||o&&r)&&(t.beginPath(),g.canvas.roundedRect(t,p(n.x)+r/2,p(n.y)+r/2,p(n.w)-r,p(n.h)-r,l.borderRadius),t.closePath(),e&&(t.fillStyle=e,t.fill()),o&&r&&(t.strokeStyle=o,t.lineWidth=r,t.lineJoin="miter",t.stroke()))}(o,i.frame,r),function(t,n,l,e){var o,r=e.textAlign,i=e.color,a=!!i,u=e.font,s=n.length,c=e.textStrokeColor,d=e.textStrokeWidth,h=c&&d;if(s&&(a||h))for(l=function(t,n,l){var e=l.lineHeight,o=t.w,r=t.x;return"center"===n?r+=o/2:"end"!==n&&"right"!==n||(r+=o),{h:e,w:o,x:r,y:t.y+e/2}}(l,r,u),t.font=u.string,t.textAlign=r,t.textBaseline="middle",t.shadowBlur=e.textShadowBlur,t.shadowColor=e.textShadowColor,a&&(t.fillStyle=i),h&&(t.lineJoin="round",t.lineWidth=d,t.strokeStyle=c),o=0,s=n.length;o<s;++o)f(t,n[o],{stroked:h,filled:a,w:l.w,x:l.x,y:l.y+l.h*o})}(o,r.lines,i.text,r),o.restore())}});var m=Number.MIN_SAFE_INTEGER||-9007199254740991,v=Number.MAX_SAFE_INTEGER||9007199254740991;function y(t,n,l){var e=Math.cos(l),o=Math.sin(l),r=n.x,i=n.y;return{x:r+e*(t.x-r)-o*(t.y-i),y:i+o*(t.x-r)+e*(t.y-i)}}function x(t,n){var l,e,o,r=v,i=m,a=n.origin;for(l=0;l<t.length;++l)o=n.vx*((e=t[l]).x-a.x)+n.vy*(e.y-a.y),r=Math.min(r,o),i=Math.max(i,o);return{min:r,max:i}}function _(t,n){var l=n.x-t.x,e=n.y-t.y,o=Math.sqrt(l*l+e*e);return{vx:(n.x-t.x)/o,vy:(n.y-t.y)/o,origin:t,ln:o}}var k=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function D(t,n,l){var e=n.positioner(t,n),o=e.vx,r=e.vy;if(!o&&!r)return{x:e.x,y:e.y};var i=l.w,a=l.h,u=n.rotation,s=Math.abs(i/2*Math.cos(u))+Math.abs(a/2*Math.sin(u)),c=Math.abs(i/2*Math.sin(u))+Math.abs(a/2*Math.cos(u)),d=1/Math.max(Math.abs(o),Math.abs(r));return s*=o*d,c*=r*d,{x:e.x+(s+=n.offset*o),y:e.y+(c+=n.offset*r)}}t.helpers.extend(k.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,n,l){this._rotation=l,this._rect={x:n.x+t.x,y:n.y+t.y,w:n.w,h:n.h}},contains:function(t){var n=this._rect;return!((t=y(t,this.center(),-this._rotation)).x<n.x-1||t.y<n.y-1||t.x>n.x+n.w+2||t.y>n.y+n.h+2)},intersects:function(t){var n,l,e,o=this._points(),r=t._points(),i=[_(o[0],o[1]),_(o[0],o[3])];for(this._rotation!==t._rotation&&i.push(_(r[0],r[1]),_(r[0],r[3])),n=0;n<i.length;++n)if(l=x(o,i[n]),e=x(r,i[n]),l.max<e.min||e.max<l.min)return!1;return!0},_points:function(){var t=this._rect,n=this._rotation,l=this.center();return[y({x:t.x,y:t.y},l,n),y({x:t.x+t.w,y:t.y},l,n),y({x:t.x+t.w,y:t.y+t.h},l,n),y({x:t.x,y:t.y+t.h},l,n)]}});var w={prepare:function(t){var n,l,e,o,r,i=[];for(n=0,e=t.length;n<e;++n)for(l=0,o=t[n].length;l<o;++l)i.push(r=t[n][l]),r.$layout={_box:new k,_hidable:!1,_visible:!0,_set:n,_idx:l};return i.sort(function(t,n){var l=t.$layout,e=n.$layout;return l._idx===e._idx?l._set-e._set:e._idx-l._idx}),this.update(i),i},update:function(t){var n,l,e,o,r,i=!1;for(n=0,l=t.length;n<l;++n)o=(e=t[n]).model(),(r=e.$layout)._hidable=o&&"auto"===o.display,r._visible=e.visible(),i|=r._hidable;i&&function(t){var n,l,e,o,r,i;for(n=0,l=t.length;n<l;++n)(o=(e=t[n]).$layout)._visible&&(r=e.geometry(),i=D(e._el._model,e.model(),r),o._box.update(i,r,e.rotation()));!function(t,n){var l,e,o,r;for(l=t.length-1;l>=0;--l)for(o=t[l].$layout,e=l-1;e>=0&&o._visible;--e)(r=t[e].$layout)._visible&&o._box.intersects(r._box)&&n(o,r)}(t,function(t,n){var l=t._hidable,e=n._hidable;l&&e||e?n._visible=!1:l&&(t._visible=!1)})}(t)},lookup:function(t,n){var l,e;for(l=t.length-1;l>=0;--l)if((e=t[l].$layout)&&e._visible&&e._box.contains(n))return{dataset:e._set,label:t[l]};return null},draw:function(t,n){var l,e,o,r,i,a;for(l=0,e=n.length;l<e;++l)(r=(o=n[l]).$layout)._visible&&(i=o.geometry(),a=D(o._el._view,o.model(),i),r._box.update(a,i,o.rotation()),o.draw(t,a))}},M=t.helpers,P=t.helpers,S="$datalabels";function O(t,n,l){var e=n&&n[l.dataset];if(e){var o=l.label,r=o.$context;!0===P.callback(e,[r])&&(t[S]._dirty=!0,o.update(r))}}t.defaults.global.plugins.datalabels={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(t){if(M.isNullOrUndef(t))return null;var n,l,e,o=t;if(M.isObject(t))if(M.isNullOrUndef(t.label))if(M.isNullOrUndef(t.r))for(o="",e=0,l=(n=Object.keys(t)).length;e<l;++e)o+=(0!==e?", ":"")+n[e]+": "+t[n[e]];else o=t.r;else o=t.label;return""+o},listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0};var B={id:"datalabels",beforeInit:function(t){t[S]={_actives:[]}},beforeUpdate:function(t){var n=t[S];n._listened=!1,n._listeners={},n._datasets=[],n._labels=[]},afterDatasetUpdate:function(t,n,l){var e,o,r,i=n.index,a=t[S],u=a._datasets[i]=[],s=t.isDatasetVisible(i),c=t.data.datasets[i],d=function(t,n){var l=t.datalabels;return!1===l?null:(!0===l&&(l={}),P.merge({},[n,l]))}(c,l),h=n.meta.data||[],g=h.length,p=t.ctx;for(p.save(),e=0;e<g;++e)o=h[e],s&&o&&!o.hidden&&!o._model.skip?(u.push(r=new C(d,p,o,e)),r.update(r.$context={active:!1,chart:t,dataIndex:e,dataset:c,datasetIndex:i})):r=null,o[S]=r;p.restore(),P.merge(a._listeners,d.listeners||{},{merger:function(t,l,e){l[t]=l[t]||{},l[t][n.index]=e[t],a._listened=!0}})},afterUpdate:function(t,n){t[S]._labels=w.prepare(t[S]._datasets,n)},afterDatasetsDraw:function(t){w.draw(t,t[S]._labels)},beforeEvent:function(t,n){if(t[S]._listened)switch(n.type){case"mousemove":case"mouseout":!function(t,n){var l,e,o=t[S],r=o._listeners;if(r.enter||r.leave){if("mousemove"===n.type)e=w.lookup(o._labels,n);else if("mouseout"!==n.type)return;l=o._hovered,o._hovered=e,function(t,n,l,e){var o,r;(l||e)&&(l?e?l.label!==e.label&&(r=o=!0):r=!0:o=!0,r&&O(t,n.leave,l),o&&O(t,n.enter,e))}(t,r,l,e)}}(t,n);break;case"click":!function(t,n){var l=t[S],e=l._listeners.click,o=e&&w.lookup(l._labels,n);o&&O(t,e,o)}(t,n)}},afterEvent:function(n){var l,o,r,i,a=n[S],u=a._actives,s=a._actives=n.lastActive||[],c=e.arrayDiff(u,s);for(l=0,o=c.length;l<o;++l)(r=c[l])[1]&&(i=r[0][S])&&(i.$context.active=1===r[1],i.update(i.$context));(a._dirty||c.length)&&(w.update(a._labels),function(n){if(!n.animating){for(var l=t.animationService.animations,e=0,o=l.length;e<o;++e)if(l[e].chart===n)return;n.render({duration:1,lazy:!0})}}(n)),delete a._dirty}};return t.plugins.register(B),B}(l("MO+k"))}}]);